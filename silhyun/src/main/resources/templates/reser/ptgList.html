<!doctype html>
<html lang="zxx" xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{home/layout}">

<head>
<!-- metas -->
<meta charset="utf-8">
<meta name="author" content="pxdraft" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="keywords" content="ShopApp - eCommerce Bootstrap 5 Template" />
<meta name="description"
	content="ShopApp - eCommerce Bootstrap 5 Template" />
<!-- title -->
<title>지은이의 예약하기</title>
<script src="https://code.jquery.com/jquery-3.6.3.js"
	integrity="sha256-nQLuAZGRRcILA+6dMBOvcRh5Pe310sBpanc6+QBmyVM="
	crossorigin="anonymous"></script>

<style>

label {
	display: inline-block;
	width: 100px;
}

.pagination {
	display: inline-block;
	text-align: center;
}

.pagination a {
	color: black;
	float: left;
	padding: 8px 16px;
	text-decoration: none;
}

.pagination a.active {
	background-color: grey;
	color: white;
	border-radius: 5px;
}

.pagination a:hover:not(.active) {
	background-color: #ddd;
	border-radius: 5px;
}

.container{
	text-align: center;
}
.dropdown.btn.btn-white.border{
	float: right;
}
</style>
<link rel="shortcut icon" href="/img/favicon.ico">
<!-- CSS Template -->
<link href="/css/swimwear.css" rel="stylesheet">
</head>

<body>
	<div layout:fragment="content">
		<!-- Skippy & Prload -->
		<!-- skippy -->
		<a id="skippy"
			class="skippy visually-hidden-focusable overflow-hidden"
			href="#content">
			<div class="container">
				<span class="u-skiplink-text">Skip to main content</span>
			</div>
		</a>
		<!-- End skippy -->

		<!-- Main -->
		<main>
			<!-- Shop Section -->
			<section class="py-6">
				<div class="container">
					<div class="row">
						<!--  사이드바  -->
						<div class="col shop-sidebar-option-04 d-none d-lg-block mb-auto sticky-lg-top sticky-lg-top-header">
							<!-- Categories -->
							<div class="shop-categories-list">
								<div class="shop-attr-body">
									<ul class="nav nav-level-1 flex-column">
										<h2>Menu</h2>
									</ul>
									<ul class="nav flex-column">
										<li class="nav-item"><a href="/silhyun/ptgList" class="nav-link active">사진 작가</a></li>
										<li class="nav-item"><a href="/silhyun/stdList" class="nav-link">사진관</a>
										</li>
									</ul>
								</div>
							</div>
							<!-- End Categories -->
						</div> <!-- End 사이드바 -->
						<!-- Product Box -->
						<div class="col">
							<!-- Shop Topbar -->
							<div class="shop-top-bar-04">
								<div class="row">
									<div class="col-md-7">
										<ol
											class="breadcrumb dark-link m-0 small justify-content-center justify-content-md-start">
											<li class="breadcrumb-item"><a class="text-nowrap"
												href="/">Home</a></li>
											<li class="breadcrumb-item text-nowrap active"
												aria-current="page">예약하기</li>
										</ol>
									</div>
								</div>
							</div>
							<!-- End Shop Topbar -->
							<div class="row g-3 g-lg-4">
								<!-- Section -->
								<section class="section">
									<div class="container">
										<div class="row justify-content-center">
											<div class="col-lg-8 col-xl-15 text-center" >
												<form id="searchFrm" style="display: inline;" action="/silhyun/ptgList">
													<!--지역 검색-->
													<div class="" style="text-align: left;">
														<h3>
															지역<span class="text-danger">*</span>
														</h3>
													</div>
													<div class="form-check form-check-inline">
														<label class="form-check-label" for="region01">서울
														<input class="form-check-input" type="checkbox" 
														name="chkArray" id="region01" value="01"
														th:checked="${photographerVO.chkArray != null and #lists.contains(photographerVO.chkArray ,'01')}">
														</label>
													</div>
													<div class="form-check form-check-inline">

														<label class="form-check-label" for="region02">경기<input
															class="form-check-input" type="checkbox" name="chkArray"
															id="region02" value="02" th:checked="${photographerVO.chkArray != null and #lists.contains(photographerVO.chkArray ,'02')}"></label>
													</div>
													<div class="form-check form-check-inline">

														<label class="form-check-label" for="region03">인천
															<input class="form-check-input" type="checkbox"
															name="chkArray" id="region03" value="03"
															th:checked="${photographerVO.chkArray != null and #lists.contains(photographerVO.chkArray ,'03')}">
														</label>
													</div>
													<div class="form-check form-check-inline">

														<label class="form-check-label" for="region04">강원<input
															class="form-check-input" type="checkbox" name="chkArray"
															id="region04" value="04"
															th:checked="${photographerVO.chkArray != null and #lists.contains(photographerVO.chkArray ,'04')}"
															></label>
													</div>
													<div class="form-check form-check-inline">

														<label class="form-check-label" for="region05">대전/충청
															<input class="form-check-input" type="checkbox"
															name="chkArray" id="region05" value="05"
															th:checked="${photographerVO.chkArray != null and #lists.contains(photographerVO.chkArray ,'05')}"
															>
														</label>
													</div>
													<div class="form-check form-check-inline">

														<label class="form-check-label" for="region06">대구
															<input class="form-check-input" type="checkbox"
															name="chkArray" id="region06" value="06"
															th:checked="${photographerVO.chkArray != null and #lists.contains(photographerVO.chkArray ,'06')}"
															>
														</label>
													</div>
													<div class="form-check form-check-inline">

														<label class="form-check-label" for="region07">부산/울산
															<input class="form-check-input" type="checkbox"
															name="chkArray" id="region07" value="07"
															th:checked="${photographerVO.chkArray != null and #lists.contains(photographerVO.chkArray ,'07')}"
															>
														</label>
													</div>
													<div class="form-check form-check-inline">

														<label class="form-check-label" for="region08">경상
															<input class="form-check-input" type="checkbox"
															name="chkArray" id="region08" value="08"
															th:checked="${photographerVO.chkArray != null and #lists.contains(photographerVO.chkArray ,'08')}"
															>
														</label>
													</div>
													<div class="form-check form-check-inline">

														<label class="form-check-label" for="region09">광주/전라<input
															class="form-check-input" type="checkbox" name="chkArray"
															id="region09" value="09"
															th:checked="${photographerVO.chkArray != null and #lists.contains(photographerVO.chkArray ,'09')}"
															></label>
													</div>
													<div class="form-check form-check-inline">

														<label class="form-check-label" for="region10">제주
															<input class="form-check-input" type="checkbox"
															name="chkArray" id="region10" value="10"
															th:checked="${photographerVO.chkArray != null and #lists.contains(photographerVO.chkArray ,'10')}"
															>
														</label>
													</div>
													<!--End 지역 검색-->
													<!--분야 검색-->
													<div class="" style="text-align: left;">
														<h3>
															분야<span class="text-danger">*</span>
														</h3>
													</div>
													<div class="form-check form-check-inline">
														<label class="form-check-label" for="B1">제품<input
															class="form-check-input" type="checkbox" name="chkfldArray"
															id="B1" value="B1"
															th:checked="${photographerVO.chkfldArray != null and #lists.contains(photographerVO.chkfldArray ,'B1')}"
															></label>
													</div>
													<div class="form-check form-check-inline">
														<label class="form-check-label" for="B2">음식<input
															class="form-check-input" type="checkbox" name="chkfldArray"
															id="B2" value="B2"
															th:checked="${photographerVO.chkfldArray != null and #lists.contains(photographerVO.chkfldArray ,'B2')}"
															></label>
													</div>
													<div class="form-check form-check-inline">
														<label class="form-check-label" for="B3">행사<input
															class="form-check-input" type="checkbox" name="chkfldArray"
															id="B3" value="B3"
															th:checked="${photographerVO.chkfldArray != null and #lists.contains(photographerVO.chkfldArray ,'B3')}"
															></label>
													</div>
													<div class="form-check form-check-inline">
														<label class="form-check-label" for="B4">건축/인테리어<input
															class="form-check-input" type="checkbox" name="chkfldArray"
															id="B4" value="B4"
															th:checked="${photographerVO.chkfldArray != null and #lists.contains(photographerVO.chkfldArray ,'B4')}"
															></label>
													</div>
													<div class="form-check form-check-inline">
														<label class="form-check-label" for="B5">패션<input
															class="form-check-input" type="checkbox" name="chkfldArray"
															id="B5" value="B5"
															th:checked="${photographerVO.chkfldArray != null and #lists.contains(photographerVO.chkfldArray ,'B5')}"
															></label>
													</div>
													<div class="form-check form-check-inline">
														<label class="form-check-label" for="B6">프로필/화보<input
															class="form-check-input" type="checkbox" name="chkfldArray"
															id="B6" value="B6"
															th:checked="${photographerVO.chkfldArray != null and #lists.contains(photographerVO.chkfldArray ,'B6')}"
															></label>
													</div>
													<div class="form-check form-check-inline">
														<label class="form-check-label" for="B7">웨딩<input
															class="form-check-input" type="checkbox" name="chkfldArray"
															id="B7" value="B7"
															th:checked="${photographerVO.chkfldArray != null and #lists.contains(photographerVO.chkfldArray ,'B7')}"
															></label>
													</div>
													<div class="form-check form-check-inline">
														<label class="form-check-label" for="B8">일반스냅<input
															class="form-check-input" type="checkbox" name="chkfldArray"
															id="B8" value="B8"
															th:checked="${photographerVO.chkfldArray != null and #lists.contains(photographerVO.chkfldArray ,'B8')}"
															></label>
													</div>
													<div class="form-check form-check-inline">
														<label class="form-check-label" for="B9">반려동물<input
															class="form-check-input" type="checkbox" name="chkfldArray"
															id="B9" value="B9"
															th:checked="${photographerVO.chkfldArray != null and #lists.contains(photographerVO.chkfldArray ,'B9')}"
															></label>
													</div><br><br>
													<!--End 분야 검색-->
													<!--검색 input-->
													<div style="display: inline;">
														<input type="text" size="50px" style="height: 50px;text-align: center;" 
															class="me-sm-2 mb-2 mb-sm-1"
															name="searchWord" placeholder="찾는 작가의 이름을 입력하세요">
														<button class="btn btn-primary flex-shrink-0"
															type="submit">Search</button>
													</div>
														<br><br>
														<!--정렬-->
														<div class="dropdown btn btn-white border" style="size: 100px; text-align: left;">
															<select id="selectOp" name="searchType" onchange="searchFrm.submit()"
																style="border: 1px solid white;">
																<option value="">::선택::</option>
																<option value="new" th:selected="${photographerVO.searchType =='new'}">최신순</option>
																<option value="hot" th:selected="${photographerVO.searchType =='hot'}">인기순</option>
																<option value="name" th:selected="${photographerVO.searchType =='name'}">이름순</option>
															</select>
														</div>
															<input type="hidden" name="pageNum" th:value="1">
															<input type="hidden" name="amount" th:value="${page.criteria.amount}">
												</form>
											</div>
										</div>
									</div>
								</section>
								<!-- End Section -->
							</div>

							<!-- 작가 리스트 -->
							<div class="row g-3 g-lg-4 list" id="page">
									<h6 th:if="${#lists.isEmpty(ptgList)}">검색조건을 만족하는 작가가 없습니다.</h6>
								<div class="col-md-4 col-6"  th:each="ptg : ${ptgList}">
									<div class="product-card-9 cList">
										<div class="product-card-image">
											
											<div class="hover-scale" style="width: 300px;height: 300px;">
												<!--작가 사진-->
												<div class="hover-scale-in">
													<a
														th:href="@{/silhyun/ptgDetail/{ptgId}(ptgId = ${ptg.ptgId})}">
														<img class="img-fluid" th:src="${ptg.profile}" title=""
														alt="사진이 뜨지않는다.."style="width: 300px;height: 300px;">
													</a>
												</div>
											</div>
											<div class="product-card-info">
												<!--작가 이름-->
												<h6 class="product-title">
													<a class="ptgtitle" th:href="@{/silhyun/ptgDetail/{ptgId}(ptgId = ${ptg.ptgId})}" th:text="${ptg.name}"></a>
												</h6>
											</div>
										</div>
									</div>
								</div>
								<!--페이징 버튼-->
								<div class="container" style="text-align: center;">
									<div class="pagination" style="text-align: center;">
										<a th:if="${page.prev}" th:href="${page.startPage-1}">&laquo;</a> <a
											th:each="num : ${#numbers.sequence(page.getStartPage(), page.getEndPage())}"
											th:href="${num}"
											th:class="${page.criteria.pageNum==num} ? 'active'">[[${num}]]</a>
										<a th:if="${page.next}" th:href="${page.endPage+1}">&raquo;</a>
									</div>
								</div>
							</div>
						</div>
					</div>
					<!-- End Product Box -->
				</div>
			</section>
		</main>
		<!-- End Main -->
		<!-- 
    ========================
       End Wrapper 
    ========================
    -->
		<!-- script start -->
		<!--bootstrap-->
		<script src="/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
		<!-- slick carousel -->
		<script src="/vendor/swiper/swiper-bundle.min.js"></script>
		<!-- magnific -->
		<script src="/vendor/magnific/jquery.magnific-popup.min.js"></script>
		<!-- isotope -->
		<script src="/vendor/isotope/isotope.pkgd.min.js"></script>
		<!-- count-down -->
		<script src="/vendor/count-down/jquery.countdown.min.js"></script>
		<!-- count-down -->
		<script src="/vendor/jarallax/jarallax-all.js"></script>
		<!-- Theme Js -->
		<script src="/js/custom.js"></script>
		<script src="/js/theme.js"></script>
		<!-- End script start -->
		<script>
            //             //▶지역 선택 
            //             let ckregion = $("input[name='region']");
            //             // 1. 해당 name과 동일한 모든 체크박스 루프 > 체크된 체크박스만 해당 value 값 콘솔
            //             ckregion.each(function () {
            //                 if ($(this).is(":checked") == true) {
            //                     var tmpVal = $(this).val();
            //                     console.log(tmpVal);
            //                 }
            //             });
            //             // 2. 해당 name과 동일한 체크박스 중 선택한 것들만 루프 > 해당 value 값 콘솔
            //             ckregion.each(function () {
            //                 var tmpVal = $(this).val();
            //                 console.log(tmpVal);
            //             });

            //             //▶분야 선택
            //             let ckfld = $("input[name='field']");

            //             ckfld.each(function () {
            //                 if ($(this).is(":checked") == true) { 
            //                     var fldVal = $(this).val();
            //                     console.log(fldVal);
            //                 }
            //             });

            //             ckfld.each(function () {
            //                 var fldVal = $(this).val();
            //                 console.log(fldVal);
            //             });

            //체크된 val 받아와서 배열로 만들기
//             function ck() {
//                 var chkArray = new Array();
//                 var chkfldArray = new Array();
//                 var schWord = new Array();
//                 var rgTextAry = new Array();
//                 var fldTextAry = new Array();
                
//             	$('#actionFrm').find("input[name='pageNum']").val(1);

//                 $("input[name='region']:checked").each(function () {
//                     var tmpVal = $(this).val();
//                     chkArray.push(tmpVal);
//                     var rgText = $(this).parent().text()
//                     rgTextAry.push(rgText);

//                 });
                
//                 $("lavel")
//                 $("input[name='field']:checked").each(function () {
//                     var fldVal = $(this).val();
//                     chkfldArray.push(fldVal);
//                     var fldText = $(this).parent().text();
//                     fldTextAry.push(fldText)
//                 });
//                 var word = $("input[name='searchWord']").val();

//                 let list = [];
//                 list.push(chkArray);
//                 list.push(chkfldArray);
//                 //                 if (chkArray.length < 1) {
//                 //                     alert("지역을 선택해주시기 바랍니다.");
//                 //                     return;
//                 //                 }
//                 //                 if (chkfldArray.length < 1) {
//                 //                     alert("분야을 선택해주시기 바랍니다.")
//                 //                     return;
//                 //                 }
//                 console.log(chkArray)
//                 console.log(chkfldArray)
//                 $.ajax({
//                         url: "/silhyun/searchPtgList",
//                         type: "post",
//                         data: JSON.stringify({
//                             chkfldArray: chkfldArray,
//                             chkArray: chkArray,
//                             searchWord: word,
//                             pageNum: 1,
//                             amount: 10
//                         }),
//                         contentType: "application/json"
//                     })
//                     .then(res => {
//                         // let resVal = res[0].name
//                         console.log(res)
//                         // console.log(resVal)
//                         // console.log($('.product-card-9'))
//                         $('.col-md-4.col-6').remove() //기존에 나온 작가리스트 지우기 
//                         //$('.product-card-info').remove()  //기존에 나온 작가리스트 지우기 
//                         $(res).each(function (idx, item) {
//                             console.log(item.profile)
//                             console.log(item.name)
//                             $('.row.g-3.g-lg-4.list').append(
//                                 `<div class="col-md-4 col-6">
//                                      <div class="product-card-9">
//                                         <div class="product-card-image">
//                                             <div class="product-action">
//                                                 <a href="#" class="btn">
//                                                     <i class="fi-heart"></i>
//                                                 </a>
//                                             </div>
//                                             <div class="hover-scale">
//                                                 <div class="hover-scale-in">
//                                                     <a href="/silhyun/ptgDetail/${item.ptgId}">
//                                                         <img class="img-fluid" src="${item.profile}" title=""
//                                                             alt="사진이 뜨지않는다.." width="700" height="800">
//                                                     </a>
//                                                 </div>
//                                             </div>
//                                         </div>
//                                         <div class="product-card-info">
//                                             <h6 class="product-title">
//                                                 <a href="#">${item.name}</a>
//                                             </h6>
//                                         </div>
//                                     </div>
//                                 </div>
//                                    `)
//                         })

//                         $('.col-lg-8.col-xl-15.text-center').append(
//                             `<div>선택 지역 : ${rgTextAry}         선택 분야 : ${fldTextAry}</div>`)
//                         $("input[name='region']:checked").prop('checked', false);
//                         $("input[name='field']:checked").prop('checked', false);
//                     })
                    

//             }

//             //필터(최신순, 인기순,이름순)
//             //Ajax호출
//             function ptgList() {
            	
//                 var searchType = $("#selectOp").val(); //셀렉트 박스 
//                 console.log(searchType)
//                 $.ajax({
//                         url: '/silhyun/AjaxPtgList/' + searchType
//                     })
//                     .then(result => {
//                         function makeList() {
//                             $('.col-md-4.col-6').remove()
//                             $(result).each(function (idx, item) {
//                                 console.log(result)
//                                 $('.row.g-3.g-lg-4.list').append(
//                                     `<div class="col-md-4 col-6">
//                                      <div class="product-card-9">
//                                         <div class="product-card-image">
//                                             <div class="product-action">
//                                                 <a href="#" class="btn">
//                                                     <i class="fi-heart"></i>
//                                                 </a>
//                                             </div>
//                                             <div class="hover-scale">
//                                                 <div class="hover-scale-in">
//                                                     <a href="/silhyun/ptgDetail/${item.ptgId}">
//                                                         <img class="img-fluid" src="${item.profile}" title=""
//                                                             alt="사진이 뜨지않는다.." width="700" height="800">
//                                                     </a>
//                                                 </div>
//                                             </div>
//                                         </div>
//                                         <div class="product-card-info">
//                                             <h6 class="product-title">
//                                                 <a href="#">${item.name}</a>
//                                             </h6>
//                                         </div>
//                                     </div>
//                                 </div>
//                                    `
//                                 )
//                             })
//                         }
//                         if (searchType == 'new') {
//                             makeList()
//                         } else if (searchType == 'hot') {
//                             makeList()
//                         } else if (searchType == 'name') {
//                             makeList()
//                         } else {

//                         }

//                     })
//                     .then(srror => console.log(error))
//             }
//             //페이징 관련
            history.replaceState({}, null, location.pathname);  //url 숨기기
            $(".pagination a").on("click", function(e){
            	e.preventDefault();
             	$("#searchFrm").find("input[name='pageNum']").val($(this).attr("href"));

             	searchFrm.submit(); //폼태그값을 스트링으로 
            })

		</script>
	</div>

</body>

</html>