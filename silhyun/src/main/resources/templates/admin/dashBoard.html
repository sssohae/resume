<!doctype html>
<html lang="zxx" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="keywords"
        content="wrappixel, admin dashboard, html css dashboard, web dashboard, bootstrap 5 admin, bootstrap 5, css3 dashboard, bootstrap 5 dashboard, Ample lite admin bootstrap 5 dashboard, frontend, responsive bootstrap 5 admin template, Ample admin lite dashboard bootstrap 5 dashboard template">
    <meta name="description"
        content="Ample Admin Lite is powerful and clean admin dashboard template, inpired from Bootstrap Framework">
    <meta name="robots" content="noindex,nofollow">
    <title>Ample Admin Lite Template by WrapPixel</title>
    <link rel="canonical" href="https://www.wrappixel.com/templates/ample-admin-lite/" />
    <link rel="icon" type="image/png" sizes="16x16" href="/manage/plugins/images/favicon.png">
    <link href="/manage/css/style.min.css" rel="stylesheet">


    <style>
        .pagination {
            display: inline-block;
        }

        .pagination a {
            color: black;
            float: left;
            padding: 8px 16px;
            text-decoration: none;
        }

        .pagination a.active {
            background-color: grey;
            color: white;
            border-radius: 5px;
        }

        .pagination a:hover:not(.active) {
            background-color: #ddd;
            border-radius: 5px;
        }

        .paginationP {
            display: inline-block;
        }

        .paginationP a {
            color: black;
            float: left;
            padding: 8px 16px;
            text-decoration: none;
        }

        .paginationP a.active {
            background-color: grey;
            color: white;
            border-radius: 5px;
        }

        .paginationP a:hover:not(.active) {
            background-color: #ddd;
            border-radius: 5px;
        }
    </style>



</head>

<body>
    <div class="preloader">
        <div class="lds-ripple">
            <div class="lds-pos"></div>
            <div class="lds-pos"></div>
        </div>
    </div>
    <div id="main-wrapper" data-layout="vertical" data-navbarbg="skin5" data-sidebartype="full"
        data-sidebar-position="absolute" data-header-position="absolute" data-boxed-layout="full">
        <header class="topbar" data-navbarbg="skin5">
            <nav class="navbar top-navbar navbar-expand-md navbar-dark">
                <div class="navbar-header" data-logobg="skin6">
                    <a class="navbar-brand" href="/">
                        <b class="logo-icon">
                            <img src="/img/silhyunLogoSmall.JPG" alt="homepage" style="width: 180px" />
                        </b>
                    </a>
                    <a class="nav-toggler waves-effect waves-light text-dark d-block d-md-none"
                        href="javascript:void(0)"><i class="ti-menu ti-close"></i></a>
                </div>
                <div class="navbar-collapse collapse" id="navbarSupportedContent" data-navbarbg="skin5">
                    <ul class="navbar-nav d-none d-md-block d-lg-none">
                        <li class="nav-item">
                            <a class="nav-toggler nav-link waves-effect waves-light text-white"
                                href="javascript:void(0)"><i class="ti-menu ti-close"></i></a>
                        </li>
                    </ul>
                    <ul class="navbar-nav ms-auto d-flex align-items-center">
                        <li>
                            <a class="profile-pic" href="/admin/adminManage">
                                <i class="fa fa-key" aria-hidden="true"></i><span
                                    class="text-white font-medium">&nbsp;ADMIN</span></a>
                        </li>
                    </ul>
                </div>
            </nav>
        </header>
        <aside class="left-sidebar" data-sidebarbg="skin6">
            <div class="scroll-sidebar">
                <nav class="sidebar-nav">
                    <ul id="sidebarnav">
                        <li class="sidebar-item pt-2">
                            <a class="sidebar-link waves-effect waves-dark sidebar-link" th:href="@{/admin/dashBoard}"
                                aria-expanded="false">
                                <i class="fas fa-clipboard" aria-hidden="true"></i>
                                <span class="hide-menu">대시보드</span>
                            </a>
                        </li>
                        <li class="sidebar-item">
                            <a class="sidebar-link waves-effect waves-dark sidebar-link"
                                th:href="@{/admin/memberManage}" aria-expanded="false">
                                <i class="fa fa-users" aria-hidden="true"></i>
                                <span class="hide-menu">회원 관리</span>
                            </a>
                        </li>
                        <li class="sidebar-item">
                            <a class="sidebar-link waves-effect waves-dark sidebar-link"
                                th:href="@{/admin/memberAccept}" aria-expanded="false">
                                <i class="fas fa-user-plus" aria-hidden="true"></i>
                                <span class="hide-menu">종합 승인 관리</span>
                            </a>
                        </li>
                        <li class="sidebar-item">
                            <a class="sidebar-link waves-effect waves-dark sidebar-link" th:href="@{/admin/eventManage}"
                                aria-expanded="false">
                                <i class="fas fa-star" aria-hidden="true"></i>
                                <span class="hide-menu">이벤트 관리</span>
                            </a>
                        </li>
                        <li class="sidebar-item">
                            <a class="sidebar-link waves-effect waves-dark sidebar-link" th:href="@{/admin/quitManage}"
                                aria-expanded="false">
                                <i class="fas fa-hand-paper" aria-hidden="true"></i>
                                <span class="hide-menu">탈퇴 관리</span>
                            </a>
                        </li>
                        <li class="sidebar-item">
                            <a class="sidebar-link waves-effect waves-dark sidebar-link" th:href="@{/admin/adminManage}"
                                aria-expanded="false">
                                <i class="far fa-smile" aria-hidden="true"></i>
                                <span class="hide-menu">관리자계정 관리</span>
                            </a>
                        </li>

                    </ul>

                </nav>
            </div>
        </aside>
        <div class="page-wrapper">
            <div layout:fragment="content">
                <div class="page-breadcrumb bg-white">


                    <div class="row align-items-center">
                        <div class="col-lg-3 col-md-4 col-sm-4 col-xs-12">
                            <h3 class="page-title">대시보드</h3>
                        </div>
                        <div class="col-lg-9 col-sm-8 col-md-8 col-xs-12">
                            <div class="d-md-flex">
                                <ol class="breadcrumb ms-auto">

                                </ol>
                                <a href="https://www.wrappixel.com/templates/ampleadmin/" target="_blank"
                                    class="btn btn-danger  d-none d-md-block pull-right ms-3 hidden-xs hidden-sm waves-effect waves-light text-white"
                                    th:text="${cfm.sysDate}+' 대기중인 승인 : '+ (${cfm.ptgCf}+${cfm.stdCf}+${cfm.classCf}+${cfm.eventCf}+'건')">
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12 col-lg-12 col-sm-12 col-xs-12">
                        <div class="white-box">
                            <h3 class="box-title">지난 2주간 매출액</h3>
                            <div id="ct-visits" style="height: 405px;" align="center">
                                <div style="width: 1200px;height: 400px">
                                    <canvas id="myChart"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="container-fluid">
                    <div class="row justify-content-center">
                        <div class="col-lg-6 col-md-12">
                            <div class="white-box analytics-info">
                                <h3 class="box-title">기록가 랭킹</h3>
                                <table>
                                    <tr th:each="ptgRank,sts : ${ptgRank}" th:Class="${sts}" align="center">
                                        <td th:text="${sts.count}"></td>
                                        <td>
                                            <div class="p-2"><img th:src="${ptgRank.PROFILE}" alt="user" width="50"
                                                    class="rounded-circle"></div>
                                        </td>
                                        <td style="padding-right: 100px">
                                            <h5 class="font-medium" th:text="${ptgRank.ctgrNum}+'님'"></h5>
                                        </td>
                                        <td>
                                            <h5 align="right" th:text="${ptgRank.CNT} + '건'"></h5>
                                        </td>
                                    </tr>

                                </table>
                            </div>
                        </div>


                        <div class="col-lg-6 col-md-12">
                            <div class="white-box analytics-info">
                                <h3 class="box-title">클래스 랭킹</h3>
                                <table>
                                    <tr th:each="classRank,sts2 : ${classRank}" th:Class="${sts2}" align="center">
                                        <td th:text="${sts2.count}"></td>
                                        <td>
                                            <div class="p-2"><img th:src="${classRank.profile}" alt="user" width="50">
                                            </div>
                                        </td>
                                        <td>
                                            <h5 class="font-medium" style="padding-right: 100px"
                                                th:text="${classRank.ptgId}+'님'"></h5>
                                        </td>
                                        <td style="padding-right: 50px">
                                            <h5 class="font-medium" th:text="${classRank.classTitle}"></h5>
                                        </td>
                                        <td>
                                            <h5 align="right" th:text="${classRank.count} + '건'"></h5>
                                        </td>
                                    </tr>

                                </table>
                            </div>
                        </div>
                    </div>


                    <div class="row">
                        <div class="col-md-12 col-lg-12 col-sm-12 col-xs-12">
                            <div class="white-box" align="center">
                                <div align="left">
                                    <h3 class="box-title">작가 분야 통계</h3>
                                </div>

                                <br>
                                <br>
                                <div style="width: 1000px">
                                    <canvas id="myChart2"></canvas>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12 col-lg-12 col-sm-12">
                        <div class="white-box">
                            <div class="d-md-flex mb-3">
                                <h3 class="box-title mb-0">최근 판매내역</h3>
                            </div>
                            <div class="table-responsive">
                                <table class="table no-wrap">
                                    <thead>
                                        <tr>
                                            <th class="border-top-0">#</th>
                                            <th class="border-top-0">카테고리</th>
                                            <th class="border-top-0">판매자</th>
                                            <th class="border-top-0">구매자</th>
                                            <th class="border-top-0">금액</th>
                                            <th class="border-top-0">판매일자</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr th:each="buy,sts : ${buy}" th:Class="${sts}">
                                            <td th:text="${sts.count}"></td>
                                            <td class="txt-oflo" th:text="${buy.ctgr}"></td>
                                            <td th:text="${buy.ctgrNum}+'님'"></td>
                                            <td class="txt-oflo" th:text="${buy.id}+'님'"></td>
                                            <td><span class="text-success" th:text="${buy.pri}+'원'"></span></td>
                                            <td class="txt-oflo" th:text="${buy.date}"></td>
                                        </tr>

                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12 col-lg-8 col-sm-12">
                        <div class="card white-box p-0">
                            <div class="card-body">
                                <h3 class="box-title mb-0">최근 댓글내역</h3>
                            </div>
                            <div class="comment-widgets">
                                <div class="d-flex flex-row comment-row p-3 mt-0" th:each="com : ${com}">
                                    <div class="p-2"><img th:src="${com.cProfile}" alt="user" width="50"
                                            class="rounded-circle"></div>
                                    <div class="comment-text ps-2 ps-md-3 w-100">
                                        <h5 class="font-medium" th:text="${com.id}+'님'"></h5>
                                        <span class="mb-3 d-block" th:text="${com.cntn}"></span>
                                        <div class="comment-footer d-md-flex align-items-center">
                                            <span class="badge bg-danger rounded" th:if="${com.ctgr=='예약'}"
                                                th:text="${com.ctgr}"></span>
                                            <span class="badge bg-primary rounded" th:if="${com.ctgr=='클래스'}"
                                                th:text="${com.ctgr}"></span>
                                            <span class="badge bg-info rounded" th:if="${com.ctgr=='포트폴리오'}"
                                                th:text="${com.ctgr}"></span>

                                            <div class="text-muted fs-2 ms-auto mt-2 mt-md-0" th:text="${com.comDate}">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-12 col-sm-12">
                        <div class="card white-box p-0">
                            <div class="card-heading">
                                <h3 class="box-title mb-0">최근 가입내역</h3>
                            </div>
                            <div class="card-body">
                                <ul class="chatonline">
                                    <li th:each="join : ${join}">
                                        <a href="javascript:void(0)" class="d-flex align-items-center"><img
                                                th:src="${join.profile}" alt="user-img" class="img-circle">
                                            <span>
                                                <span class="text-dark" th:text="${join.id+'님'}">
                                                </span>
                                                <small class="d-block text-success d-block" th:text="${#dates.format(join.joinDate,'yyyy/MM/dd')}">
                                                        </small>
</span>                                      

                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
            
                </div>
            </div>
            </div>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script th:inline="javascript">

  // list 변수에 쿼리결과넣기.
  var list = /*[[${lastS}]]*/ [];
  
  // labels와 data 배열 초기화
  var labels = [];
  var data = [];

  // list의 각 Map에서 key와 value를 labels와 data 배열에 추가
  list.forEach(function(map) {
      for (var key in map) {
          if (key === "date") {
              labels.push(map[key]);
          } else if (key === "sales") {
              data.push(map[key]);
          }
      }
  });

  const dataObj = {
    labels: labels,
    datasets: [{
      label: '지난 2주간 매출액',
      data: data,
      fill: false,
      borderColor: 'rgb(75, 192, 192)',
      tension: 0.1
    }]
  };
  
  const config = {
    type: 'line',
    data: dataObj,
  };
  
  var myChart = new Chart(
    document.getElementById('myChart'),
    config
  );
  
  
  


  var pList = /*[[${PGraph}]]*/ []; // 컨트롤러에서 가져온 List<Map<String,String>> list 값

      // labels와 data 배열 초기화
      var pLabels = [];
      var pData = [];

      // list의 각 Map에서 key와 value를 labels와 data 배열에 추가
      pList.forEach(function(map) {
          for (var key in map) {
              pLabels.push(key);
              pData.push(map[key]);
          }
      });


      const ctx2 = document.getElementById('myChart2');

      new Chart(ctx2, {
        type: 'bar',
        data: {
          labels: pLabels,
          datasets: [{
           // label: '# 누적 판매량(예약/클래스 통합)',
            label: '# 작가 등록',
            data: pData,
            backgroundColor: [
          	  'rgba(245, 50, 168, 0.2)',
                'rgba(255, 99, 132, 0.2)',
                'rgba(255, 159, 64, 0.2)',
                'rgba(255, 205, 86, 0.2)',
                'rgba(75, 192, 192, 0.2)',
                'rgba(54, 162, 235, 0.2)',
                'rgba(0, 0, 128, 0.2)',
                'rgba(153, 102, 255, 0.2)',   
                'rgba(100, 100, 100, 0.2)',
              ],
            borderColor: [
          	  'rgba(245, 154, 168)',
                'rgb(255, 99, 132)',
                'rgb(255, 159, 64)',
                'rgb(255, 205, 86)',
                'rgb(75, 192, 192)',
                'rgb(54, 162, 235)',
                'rgba(0, 0, 128, 0.5)',
                'rgb(153, 102, 255)',      
                'rgba(25, 25, 25, 0.5)',
              ],
              borderWidth: 2
          }]
        },
        options: {
          scales: {
            y: {
                ticks: {
                    stepSize: 1,
                    min: 0
                       },
              beginAtZero: true
            }
          }
        }
      });
  
</script>


            
            
            <footer class="footer text-center"> 2021 © Ample Admin brought to you by <a
                    href="https://www.wrappixel.com/">wrappixel.com</a>
            </footer>

        </div>


    <script src="/manage/plugins/bower_components/jquery/dist/jquery.min.js"></script>
    <!-- Bootstrap tether Core JavaScript -->
    <script src="/manage/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/manage/js/app-style-switcher.js"></script>
    <!--Wave Effects -->
    <script src="/manage/js/waves.js"></script>
    <!--Menu sidebar -->
    <script src="/manage/js/sidebarmenu.js"></script>
    <!--Custom JavaScript -->
    <script src="/manage/js/custom.js"></script>
</body>

</html>